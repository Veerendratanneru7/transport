@{
    Layout = null;
    var lang = (Context.Request?.Query["lang"].ToString() == "ar") ? "ar" : "en";
    string T(string en, string ar) => lang == "ar" ? ar : en;

    ViewData["Title"] = T("Welcome", "مرحبًا");
    var toggleTo = lang == "ar" ? "en" : "ar";
    var toggleLbl = lang == "ar" ? "English" : "العربية";
    var toggleUrl = (Context.Request?.Path ?? "/") + "?lang=" + toggleTo;
    var isRTL = lang == "ar";
    var qLang = lang == "ar" ? "?lang=ar" : "";
}

<!doctype html>
<html lang="@lang" dir="@(isRTL ? "rtl" : "ltr")">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>@ViewData["Title"]</title>

    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" />

    <style>
        :root{ --maroon:#7C1D3A; --maroon-dark:#5f142b; --border:#eed7de; --white:#fff; }
        body{
          font-family:system-ui,-apple-system,"Segoe UI",Roboto,Arial,sans-serif;
          background:var(--white); color:#222; height:100vh; margin:0;
          display:flex; align-items:center; justify-content:center;
        }
        .card{
          width:100%; max-width:520px; background:var(--white);
          border:1px solid var(--border); border-radius:14px;
          box-shadow:0 4px 16px rgba(0,0,0,.08); position:relative;
        }
        .card-body{ padding:2rem; }
        h1{ font-size:1.5rem; color:var(--maroon); font-weight:800; }
        p.lead{ color:#555; }
        .btn-primary{ background:var(--maroon); border-color:var(--maroon); font-weight:600; }
        .btn-primary:hover{ background:var(--maroon-dark); border-color:var(--maroon-dark); }
        .btn-outline-primary{ color:var(--maroon); border-color:var(--maroon); }
        .btn-outline-primary:hover{ background:var(--maroon); color:#fff; }
        .option{
          display:flex; align-items:center; gap:.75rem;
          padding:.9rem 1rem; border:1px solid var(--border); border-radius:12px;
          text-decoration:none;
        }
        .option:hover{ background:#f9f2f4; border-color:#e8c2cf; }
        .option i{ font-size:1.25rem; color:var(--maroon); width:1.5rem; text-align:center; }
        .option .title{ font-weight:700; color:#2a2a2a; }
        .option .desc{ font-size:.9rem; color:#676767; margin:0; }
        .lang-switch{ position:absolute; top:10px; right:10px; }
        [dir="rtl"] .lang-switch{ right:auto; left:10px; }
        .lang-switch .btn{ font-size:.85rem; padding:4px 10px; border-radius:20px; }
        .footer-text{ color:#777; text-align:center; font-size:.9rem; margin-top:1rem; }
    </style>
</head>
<body>
    <div class="card">
        <!-- Language Toggle -->
        <div class="lang-switch">
            <a href="@toggleUrl" class="btn btn-outline-primary btn-sm">@toggleLbl</a>
        </div>

        <div class="card-body" dir="@(isRTL ? "rtl" : "ltr")">
            <h1 class="mb-2">@T("Welcome", "مرحبًا")</h1>
            <p class="lead mb-4">
                @T("Choose how you’d like to access the portal.", "اختر طريقة الدخول إلى البوابة.")
            </p>

            <div class="vstack gap-3">
                <!-- Owner Login -->
                <a class="option" href='@Url.Action("OwnerLogin","Auth")@qLang' aria-label='@T("Owner Login (OTP)","تسجيل دخول المالك (رمز التحقق)")'>
                    <i class="fa-solid fa-user-shield"></i>
                    <div>
                        <div class="title">@T("Owner Login", "تسجيل دخول المالك")</div>
                        <p class="desc">@T("Use your phone to receive a one-time code.", "استخدم هاتفك لتلقي رمز تحقق لمرة واحدة.")</p>
                    </div>
                </a>

                <!-- Ministry Login -->
                <a class="option" href='@Url.Action("MinistryLogin","Auth")@qLang' aria-label='@T("Ministry Login (OTP)","تسجيل دخول الوزارة (رمز التحقق)")'>
                    <i class="fa-solid fa-building-columns"></i>
                    <div>
                        <div class="title">@T("Ministry Login", "تسجيل دخول الوزارة")</div>
                        <p class="desc">@T("Login with your ministry phone number.", "سجّل الدخول برقم هاتف الوزارة.")</p>
                    </div>
                </a>

                <!-- Vehicle Owner Signup -->
                <a class="option" href='/user/signup@(lang=="ar"?"?lang=ar":"")' aria-label='@T("Vehicle Owner Signup","تسجيل مالك المركبة")'>
                    <i class="fa-solid fa-id-card-clip"></i>
                    <div>
                        <div class="title">@T("Vehicle Owner Signup", "تسجيل مالك المركبة")</div>
                        <p class="desc">@T("Create an account to manage your vehicles.", "أنشئ حسابًا لإدارة مركباتك.")</p>
                    </div>
                </a>

                <!-- User Login (QID + Phone) -->
                <a class="option" href='/user/login@(lang=="ar"?"?lang=ar":"")' aria-label='@T("User Login","تسجيل الدخول")'>
                    <i class="fa-solid fa-right-to-bracket"></i>
                    <div>
                        <div class="title">@T("User Login", "تسجيل الدخول")</div>
                        <p class="desc">@T("Login with QID and phone number.", "سجّل الدخول باستخدام الرقم الشخصي ورقم الهاتف.")</p>
                    </div>
                </a>
            </div>

            <div class="footer-text">© @DateTime.Now.Year Transport Office</div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
